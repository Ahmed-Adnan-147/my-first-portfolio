<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rock Paper Scissors Project Enhancement using Objects by adding Win history</title>
</head>

<body>
  <p>Rock Paper Scissors</p>

  <button onclick="
    displayResult('rock')
  ">
    Rock
  </button>

  <button onclick="
    displayResult('paper')
  ">
    Paper
  </button>

  <button onclick="
    displayResult('scissors')
    ">
    Scissors
  </button>

  <button onclick="
    gameHistory.win = 0;
    gameHistory.lose = 0;
    gameHistory.tie = 0;
    localStorage.removeItem('score')
    ">
    Reset Score
  </button>

  <script>
    const gameHistory = JSON.parse(localStorage.getItem('gameHistory')) || {
    win: 0,
    lose: 0,
    tie: 0
  };

    
    function pickComputerMove() {
      const randomNumber = Math.random();
      let computerSelection = '';
      
      if(randomNumber >=0 && randomNumber < 1/3) {
        computerSelection = 'rock';
      } else if (randomNumber >= 1/3 && randomNumber < 2/3) {
        computerSelection = 'paper';
      } else if (randomNumber >= 2/3 && randomNumber < 1) {
        computerSelection = 'scissors';
      }

      // return 5;
      // return 'scissors';
      // console.log('after return statement')
      return computerSelection;
    }

    // const gameHistory = {
    //   win: 0,
    //   lose: 0,
    //   tie: 0 
    // };

    // youtube strategy
    function displayResult(userMove) {
      const computerSelection = pickComputerMove();
      let status = '';

      if(userMove === 'scissors') {
        if(computerSelection === 'rock') {
          status = 'You lose.';
        } else if(computerSelection === 'paper') {
          status = 'You win.'
        } else if(computerSelection === 'scissors') {
          status = 'Tie.'
        }

      } else if(userMove === 'paper') {
        if(computerSelection === 'rock') {
          status = 'You win.';
        } else if(computerSelection === 'paper') {
          status = 'Tie.'
        } else if(computerSelection === 'scissors') {
          status = 'You lose.'
        }

      } else if(userMove === 'rock') {
        if(computerSelection === 'rock') {
          status = 'Tie.';
        } else if(computerSelection === 'paper') {
          status = 'You lose.'
        } else if(computerSelection === 'scissors') {
          status = 'You win.'
        }
      } 
      
      if(status === 'You win.') {
        gameHistory.win += 1;
      } else if(status === 'You lose.') {
        gameHistory.lose += 1;
      } else if(status === 'Tie.') {
        gameHistory.tie += 1;
      }

      localStorage.setItem('gameHistory', JSON.stringify(gameHistory));

      alert(`You picked ${userMove}. Computer picked ${computerSelection}. ${status} \nWins: ${gameHistory.win}, Losses: ${gameHistory.lose}, Ties: ${gameHistory.tie} `);
    
    }

// ----------------------------------------------------------------------------------------------------------------
    // My strategy
    // function displayResult(userMove) {
    //   const computerSelection = pickComputerMove();
    //   let status = '';

    //   if(userMove === 'scissors') {
    //     if(computerSelection === 'rock') {
    //       status = 'You lose.';
    //       gameHistory.lose += 1;
    //     } else if(computerSelection === 'paper') {
    //       status = 'You win.'
    //       gameHistory.win += 1;
    //     } else if(computerSelection === 'scissors') {
    //       status = 'Tie.'
    //       gameHistory.tie += 1;
    //     }

    //   } else if(userMove === 'paper') {
    //     if(computerSelection === 'rock') {
    //       status = 'You win.';
    //       gameHistory.win += 1;
    //     } else if(computerSelection === 'paper') {
    //       status = 'Tie.'
    //       gameHistory.tie += 1;
    //     } else if(computerSelection === 'scissors') {
    //       status = 'You lose.'
    //       gameHistory.lose += 1;
    //     }

    //   } else if(userMove === 'rock') {
    //     if(computerSelection === 'rock') {
    //       status = 'Tie.';
    //       gameHistory.tie += 1;
    //     } else if(computerSelection === 'paper') {
    //       status = 'You lose.'
    //       gameHistory.lose += 1;
    //     } else if(computerSelection === 'scissors') {
    //       status = 'You win.'
    //       gameHistory.win += 1;
    //     }

    //   } else if (userMove === 'reset') {
    //     gameHistory.win = 0;
    //     gameHistory.lose = 0;
    //     gameHistory.tie = 0;
    //   }
      
    //   alert(`You picked ${userMove}. Computer picked ${computerSelection}. ${status} \nWins: ${gameHistory.win}, Losses: ${gameHistory.lose}, Ties: ${gameHistory.tie} `);
    
    // }
  </script>
</body>

</html>